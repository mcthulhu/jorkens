<!DOCTYPE html>
<html class="no-js">
    <head>
        <meta charset="UTF-8">
	    
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1"">

        <!-- <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/popup.css">  -->
		<link rel="stylesheet" href="css/examples.css">
		<script src="js/libs/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.2.0/jszip.min.js"></script>
		<script src="js/epub.js"></script>
		<script src="js/reader.js"></script>
		
        
        <!-- File Storage -->
        <script src="js/libs/fileStorage.min.js"></script>

        <!-- Full Screen -->
        <script src="js/libs/screenfull.min.js"></script>
		
        <script>
            "use strict";

            document.onreadystatechange = function () {
              if (document.readyState == "complete") {
			  EPUBJS.filePath = "js/libs/";
                EPUBJS.cssPath = "css/";
                fileStorage.filePath = EPUBJS.filePath;
                window.reader = ePubReader(), {
                   restore: true
                 };
              }
            };

        </script>
		 </head>
    <body ondrop="dropHandler(event);">
	<div id="toolbar">
		<button id="openbutton" title="Open file"></button>
		<button id="addbutton" title="Add to glossary"></button>
		<button id="findbutton" title="Search book"></button>
		<button id="wfbutton" title="WordReference"></button>
		<button id="glbutton" title="Glosbe"></button>
		<button id="wiktbutton" title="Wiktionary"></button>
		<button id="gtbutton" title="Google Translate"></button>
		<button id="verbixbutton" title="Verbix verb analysis"></button>
		<button id="ttsbutton" title="Text-to-speech"></button>
		<button id="forvobutton" title="Forvo pronunciation"></button>	
		<button id="parbutton" title="Open parallel book"></button>
		<button id="ankibutton" title="Run Anki"></button
		<button id="unknownbutton" title="Mark word as unknown"></button>
		<button id="unsurebutton" title="Mark word as unsure"></button>
		<button id="knownbutton" title="Mark word as known"></button>
		
	</div>

	<div id="titles" class="flex-container">
		<div id="title" class="flex-child"></div>
		<div id="title2" class="flex-child" style="display: none;"></div>
	</div>
	<div id="tocboxes" class="flex-container">
		<div id="tocbox">
			<label for="toc">Table of Contents: <select id="toc"></select></label>
			<span id="ttr"></span>
			<span id="clock" title="Elapsed time this session">00:00:00</span>
		</div>
		<div id="tocbox2" style="display: none;">
			<label for="toc2"><select id="toc2"></select></label>
		</div>
	</div>
	<div id="viewers" class="flex-container">
		<div id="viewer" class="spreads flex-child">
		
		</div>
		<a id="prev" href="#prev" class="arrow">‹</a>
		<a id="next" href="#next" class="arrow">›</a>
		<div id="viewer2" class="spreads flex-child" style="display: none;">
		
		</div>
		<a id="prev2" href="#prev2" class="arrow" style="display: none;">‹</a>
		<a id="next2" href="#next2" class="arrow" style="display: none;">›</a>
	</div>  
	  <div id="controls" style="display: flex; flex-direction: row; justify-content: space-around;">
			<input id="current-percent" size="3" value="0" /> %
			<span id="glosscount" title="Glossary size">Glossary: 0</span>
			<span id="tmcount" title="Translation Memory size">TM: 0</span>
			<span id="fccount" title="Flashcard database size">Flashcards: 0</span>
			
	</div>
<script>
let url = "";

 
</script>
<script>
function dropHandler(event) {
        console.log('File(s) dropped');
        event.preventDefault();
		if (event.dataTransfer.items) {
          if (event.dataTransfer.items[0].kind === 'file') {
            var file = event.dataTransfer.items[0].getAsFile();
               
                  var reader = new FileReader();
                    reader.onload = e => {
                      console.log(e.target.result);
                    };

                    reader.readAsText(file);
                  }
            
        }
      }</script>
    </body>
	<script>require('./renderer')</script>
</html>
